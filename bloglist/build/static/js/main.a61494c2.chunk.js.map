{"version":3,"sources":["services/blogs.js","components/Blog.js","services/login.js","services/user.js","components/SignupForm.js","components/LoginForm.js","components/BlogForm.js","components/Error.js","components/Sucess.js","components/Toggable.js","App.js","index.js"],"names":["baseUrl","token","getAll","config","headers","Authorization","axios","get","then","result","data","setToken","tok","create","obj","a","post","update","id","url","put","remove","delete","Blog","blog","stateSetter","blogState","currentUser","useState","visible","setVisible","handleLikes","title","author","user","likes","blogService","console","log","updatedBlog","map","removeBlog","window","confirm","blogAfterDelete","filter","hideWhenVisible","display","buttonLabel","style","paddingTop","paddingLeft","border","borderWidth","marginBottom","borderRadius","onClick","username","login","Signup","name","setName","setUsername","password","setPassword","Container","Alert","variant","Form","onSubmit","event","preventDefault","userService","Group","className","controlId","Label","Control","type","value","onChange","target","Button","LoginForm","usernameSetter","passwordSetter","signupClick","setSingupClick","BlogForm","createBlog","setTitle","setAuthor","setUrl","ErrorNotification","msg","SucessNotification","Toggable","props","visibility","setVisibility","toggleVisbibilty","showWhenVisible","buttonName","children","App","blogs","setBlogs","setUser","setPasword","errorMsg","setErrorMsg","sucessMsg","setSucessMsg","useEffect","userJson","localStorage","getItem","JSON","parse","response","handleLogin","loginService","setItem","stringify","currentblog","setTimeout","handleBlogForm","concat","sortedBlog","sort","b","Error","Sucess","removeItem","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.a61494c2.chunk.js","sourcesContent":["import axios from 'axios'\n\nconst baseUrl = '/api/blog'\n\nlet token = null\n\nconst setToken=(tok) => {\n  token =`bearer ${tok}`\n}\nconst getAll = () => {\n  // uses then based promises since it is called in useEffect hooks\n  // async and await callis in useeffect hooks can lead to race condition and weird behaviors.\n  const config = {\n    headers:{\n      Authorization:token\n    }\n  }\n  const request = axios.get(baseUrl,config)\n  return request.then(result => result.data)\n}\n\nconst create = async (obj) => {\n  const config = {\n    headers:{\n      Authorization:token\n    }\n  }\n  const result = await axios.post(baseUrl,obj,config)\n  return result.data\n}\n\nconst update = async (obj,id) => {\n  const config = {\n    headers:{\n      Authorization:token\n    }\n  }\n  const url = `${baseUrl}/${id}`\n  const result = await axios.put(url,obj,config)\n  return result.data\n}\n\nconst remove = async (id) => {\n  const config = {\n    headers:{\n      Authorization:token\n    }\n  }\n  const  url = `${baseUrl}/${id}`\n  const result = await axios.delete(url,config)\n  return result.data\n}\n\n\nexport default { getAll,setToken,create,update,remove }","import React,{ useState } from 'react'\nimport blogService from '../services/blogs'\n\nconst Blog = ({ blog,stateSetter,blogState,currentUser }) => {\n\n  const [visible,setVisible]=useState(false)\n  const changeVisible=() => {\n    setVisible(!visible)\n  }\n\n  const handleLikes=async (blog) => {\n    const obj ={\n      title:blog.title,\n      url:blog.url,\n      author:blog.author,\n      user:blog.user.id,\n      likes:blog.likes+1\n    }\n\n    const result = await blogService.update(obj,blog.id)\n    console.log(blogState)\n    let updatedBlog = blogState.map(blog => blog.id !==result.id?blog:result)\n    stateSetter(updatedBlog)\n\n\n  }\n  const removeBlog=async (blog) => {\n    if(window.confirm('do you want to delete this blog ')){\n      const result = await blogService.remove(blog.id)\n      const blogAfterDelete = blogState.filter(obj => obj.id !== result.id)\n      stateSetter(blogAfterDelete)\n    }\n\n\n\n  }\n  const hideWhenVisible ={ display:visible?'':'none' }\n  const buttonLabel = visible?'hide':'view'\n\n  const blogStyle = {\n    paddingTop: 10,\n    paddingLeft: 2,\n    border: 'solid',\n    borderWidth: 1,\n    marginBottom: 5,\n    borderRadius: 5,\n  }\n\n  return (\n    <div style={blogStyle}>\n      <button onClick={changeVisible}>{buttonLabel}</button>\n      <div>\n\n        <h5>{blog.title}</h5>\n      </div>\n      <div style={hideWhenVisible}>\n        <p>{blog.url}</p>\n        <p>{blog.author}</p>\n        <span>Likes: </span>{blog.likes} <button onClick={() => {handleLikes(blog)}}>like</button>\n        {blog.user.username === currentUser.username? <button onClick={() => {removeBlog(blog)}}>remove</button>:null}\n\n      </div>\n\n    </div>\n  )\n}\n\nexport default Blog","import axios from 'axios'\nconst baseUrl = '/api/login'\n\n\nconst login =async (obj) => {\n  const result = await axios.post(baseUrl,obj)\n  return result.data\n}\n\nexport default { login }","import axios from 'axios'\nconst BASEURI = 'api/users'\n\nconst create = async (obj) => {\n  let result = await axios.post(BASEURI,obj)\n  return result.data\n\n}\n\nexport default { create }","import React,{ useState } from 'react'\nimport { Container,Form,Button,Alert } from 'react-bootstrap'\nimport userService from '../services/user'\n\nconst Signup =() => {\n  const [name,setName] = useState('')\n  const [username, setUsername] = useState('')\n  const [password,setPassword] = useState('')\n\n  const handleSubmit =  (event) => {\n    event.preventDefault()\n    let obj = {\n      name:name,\n      username:username,\n      password:password\n    }\n    userService.create(obj)\n  }\n  return (\n    <Container>\n      <Alert variant=\"primary\">Sign up to be part of us,Refresh after signing up to login</Alert>\n      <Form onSubmit={handleSubmit}>\n        <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n          <Form.Label>Name</Form.Label>\n          <Form.Control type=\"text\" value={name} onChange={(event) => {setName(event.target.value)}}  />\n\n        </Form.Group>\n        <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n          <Form.Label>Username</Form.Label>\n          <Form.Control type=\"text\" value={username} onChange={(event) => {setUsername(event.target.value)}}  />\n\n        </Form.Group>\n        <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control type=\"password\" value={password} onChange={(event) => {setPassword(event.target.value)}}  />\n\n        </Form.Group>\n\n\n\n\n        <Button variant=\"primary\" type=\"submit\">\n    Submit\n        </Button>\n\n\n      </Form>\n    </Container>\n  )\n\n}\nexport default Signup","import React,{ useState } from 'react'\nimport PropTypes from 'prop-types'\nimport { Container,Form,Button,Alert } from 'react-bootstrap'\nimport Signup from './SignupForm'\n\nconst LoginForm=({ username,password,onSubmit,usernameSetter,passwordSetter }) => {\n  const [signupClick, setSingupClick] = useState(false)\n  if(signupClick){\n    return (\n      <Signup/>\n    )\n  }\n  return (\n    <Container>\n      <Alert variant=\"primary\">Sign in to start blogging or <Button onClick={() => {setSingupClick(!signupClick)}}>Sign up</Button></Alert>\n      <Form onSubmit={onSubmit}>\n        <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n          <Form.Label>Username</Form.Label>\n          <Form.Control type=\"text\" value={username} onChange={(event) => {usernameSetter(event.target.value)}}  />\n\n        </Form.Group>\n        <Form.Group className=\"mb-3\" controlId=\"formBasicEmail\">\n          <Form.Label>Password</Form.Label>\n          <Form.Control type=\"password\" value={password} onChange={(event) => {passwordSetter(event.target.value)}}  />\n\n        </Form.Group>\n\n\n        <Button variant=\"primary\" type=\"submit\">\n    Submit\n        </Button>\n\n\n      </Form>\n    </Container>\n\n  )\n}\nLoginForm.propTypes = {\n  username: PropTypes.string.isRequired,\n  password: PropTypes.string.isRequired,\n  passwordSetter: PropTypes.func.isRequired,\n  usernameSetter: PropTypes.func.isRequired,\n  onSubmit: PropTypes.func.isRequired\n}\n\nexport default LoginForm","import React ,{ useState } from 'react'\n\nconst BlogForm=({ createBlog }) => {\n  const [title,setTitle]= useState('')\n  const [author,setAuthor] = useState('')\n  const [url,setUrl] = useState('')\n\n  const handleSubmit = (event) => {\n    event.preventDefault()\n    let obj = {\n      title:title,\n      author:author,\n      url:url,\n      likes:0\n    }\n    createBlog(obj)\n    setTitle('')\n    setUrl('')\n    setAuthor('')\n  }\n  return(\n    <form onSubmit={handleSubmit}>\n      <div>\n                title: <input name=\"title\" value={title} onChange={(event) => setTitle(event.target.value)}  />\n      </div>\n      <div>\n                author: <input name=\"author\" value={author} onChange={(event) => setAuthor(event.target.value)}/>\n      </div>\n      <div>\n                url: <input name=\"url\" value={url} onChange={(event) => setUrl(event.target.value)} />\n      </div>\n      <button type=\"submit\">create</button>\n    </form>\n  )\n}\n\nexport default BlogForm","import React from 'react'\nimport { Alert } from 'react-bootstrap'\n\nconst ErrorNotification= ({ msg }) => {\n  return (\n    <Alert variant=\"danger\">\n      <p className=\"error\">{msg}</p>\n    </Alert>\n  )\n}\n\nexport default ErrorNotification","import React from 'react'\nimport { Alert } from 'react-bootstrap'\n\nconst SucessNotification=({ msg }) => {\n  return (\n    <Alert variant=\"success\">\n      <p className=\"sucess\">{msg}</p>\n    </Alert>\n  )\n}\n\nexport default SucessNotification","import React, { useState } from 'react'\n\nconst Toggable=(props) => {\n  const [visibility,setVisibility] =useState(false)\n\n  const toggleVisbibilty=() => {\n    setVisibility(!visibility)\n  }\n\n  const hideWhenVisible ={ display:visibility? 'none':'' }\n  const showWhenVisible ={ display:visibility? '':'none' }\n\n  return(\n    <div>\n      <div style={hideWhenVisible}>\n        <button onClick={toggleVisbibilty}>{props.buttonName}</button>\n      </div>\n      <div style={showWhenVisible}>\n        {props.children}\n        <button onClick={toggleVisbibilty}>cancel</button>\n      </div>\n    </div>\n  )\n}\n\nexport default Toggable\n","import React, { useState, useEffect } from 'react'\nimport './App.css'\nimport Blog from './components/Blog'\nimport blogService from './services/blogs'\nimport loginService from './services/login'\nimport LoginForm from './components/LoginForm'\nimport BlogForm from './components/BlogForm'\nimport ErrorNotification from './components/Error'\nimport SucessNotification from './components/Sucess'\nimport Toggable from './components/Toggable'\nconst App = () => {\n  const [blogs, setBlogs] = useState([])\n  const [user,setUser] = useState(null)\n  const [password, setPasword] = useState('')\n  const [username,setUsername] = useState('')\n  const [errorMsg, setErrorMsg] = useState(null)\n  const [sucessMsg,setSucessMsg] = useState(null)\n  //const [onSingup,setOnSignUP] = useState(false)\n\n  /* useEffect(() => {\n    blogService.getAll().then(response=> setBlogs(response))\n\n  }, [])\n  */\n  //check if user details is in local storage\n  useEffect(() => {\n    let userJson = window.localStorage.getItem('loggedinUser')\n    if(userJson){\n      const user = JSON.parse(userJson)\n      setUser(user)\n      blogService.setToken(user.token)\n      blogService.getAll().then(response => setBlogs(response))\n    }\n\n\n\n  },[])\n  const handleLogin=async (event) => {\n    event.preventDefault()\n    const obj = {\n      username:username,\n      password:password\n    }\n\n    try {\n\n      const result = await loginService.login(obj)\n\n      window.localStorage.setItem('loggedinUser',JSON.stringify(result))\n\n      blogService.setToken(result.token)\n      setUser(result)\n      const currentblog =await  blogService.getAll()\n      setBlogs(currentblog)\n      setUsername('')\n      setPasword('')\n\n\n    }catch(error){\n      setErrorMsg('Wrong username or password')\n      setTimeout(() => {\n        setErrorMsg(null)\n      }, 5000)\n    }\n\n\n  }\n\n\n\n  const handleLogout=() => {\n    window.localStorage.removeItem('loggedinUser')\n    setUser(null)\n  }\n\n  const handleBlogForm = async (obj) => {\n\n    try{\n\n      const response = await blogService.create(obj)\n      setBlogs(blogs.concat(response))\n\n      setSucessMsg(response.title)\n      setTimeout(() => {\n        setSucessMsg(null)\n      }, 5000)\n    }catch(error){\n      setErrorMsg(error)\n      setTimeout(() => {\n        setErrorMsg(null)\n      }, 5000)\n    }\n  }\n\n  const sortBylikes = () => {\n    const sortedBlog = blogs.sort((a,b) => b.likes-a.likes)\n    return sortedBlog\n\n  }\n  let sortedBlog = sortBylikes()\n\n  if(user===null){\n    return (\n      <>\n        {errorMsg===null?null:<ErrorNotification msg={errorMsg}/>}\n        <LoginForm username={username} password={password} usernameSetter={setUsername} passwordSetter={setPasword} onSubmit={handleLogin} />\n      </>\n    )\n  }\n  return (\n    <div>\n      {sucessMsg===null?null:<SucessNotification msg={sucessMsg}/>}\n      {errorMsg===null?null:<ErrorNotification/>}\n      <button onClick={handleLogout}>logout</button>\n      <h1>logged as {user.username}</h1>\n      <Toggable buttonName=\"create blog\">\n        <BlogForm createBlog={handleBlogForm}/>\n      </Toggable>\n\n      <h2>blogs</h2>\n      {sortedBlog.map(blog =>\n        <Blog key={blog.id} blog={blog} stateSetter={setBlogs} blogState={blogs} currentUser={user}/>\n\n      )}\n    </div>\n  )\n}\n\nexport default App\n\n/*\n{\n    \"title\": \"olamide\",username:\n    \"url\": \"google twitter blog\",\n    \"author\": \"bandba\",\n    \"likes\": 30,\n    \"user\": {\n      \"name\": \"who ami\",\n      \"username\": \"tenimakalaki\",\n      \"blogs\": [\n        \"615e1fc362f8d8725b4818e9\",\n        \"615edcf2ebe50b8877e89f07\",\n        \"615ef43bebe50b8877e89f12\",\n        \"615ef504cfee34014b1dd77b\",\n        \"615f15797ad0c8916b845be4\"\n      ],\n      \"id\": \"615d88320efaf11f811a21ad\"\n    },\n    \"id\": \"615edcf2ebe50b8877e89f07\"\n  },\n*/","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport 'bootstrap/dist/css/bootstrap.min.css'\nimport App from './App'\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}